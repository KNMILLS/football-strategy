{"version":3,"file":"tables-BYyVGAGB.js","sources":["../../src/data/schemas/OffenseCharts.ts","../../src/data/loaders/http.ts","../../src/data/loaders/offenseCharts.ts","../../src/data/schemas/PlaceKicking.ts","../../src/data/normalizers/placeKicking.ts","../../src/data/loaders/placeKicking.ts","../../src/data/schemas/Timekeeping.ts","../../src/data/normalizers/timeKeeping.ts","../../src/data/loaders/timeKeeping.ts","../../src/data/normalizers/longGain.ts","../../src/data/loaders/longGain.ts","../../src/data/loaders/compat.ts"],"sourcesContent":["import { z } from 'zod';\r\n\r\nexport const DefenseLetterSchema = z.enum(['A','B','C','D','E','F','G','H','I','J']);\r\n\r\nexport const PlayResultSchema = z.string();\r\n\r\nexport const PlayLetterMapSchema = z.record(DefenseLetterSchema, PlayResultSchema);\r\n\r\nexport const DeckPlaysSchema = z.record(z.string(), PlayLetterMapSchema);\r\n\r\nexport const OffenseChartsInnerSchema = z.object({\r\n  ProStyle: DeckPlaysSchema,\r\n  BallControl: DeckPlaysSchema,\r\n  AerialStyle: DeckPlaysSchema,\r\n});\r\n\r\nexport const OffenseChartsSchema = z.object({ OffenseCharts: OffenseChartsInnerSchema });\r\n\r\nexport type OffenseCharts = z.infer<typeof OffenseChartsInnerSchema>;\r\n\r\n\r\n","import type { Result, Ok, Err } from './Result';\r\n\r\n// Shared cache for data table fetchers\r\nexport const tablesCache = new Map<string, Result<any>>();\r\n\r\nexport function ok<T>(data: T): Ok<T> { return { ok: true, data }; }\r\nexport function err(code: string, message: string): Err { return { ok: false, error: { code, message } }; }\r\n\r\nexport function clearTablesCache(): void {\r\n  tablesCache.clear();\r\n}\r\n\r\nexport async function fetchJson<T>(url: string): Promise<Result<T>> {\r\n  try {\r\n    const res = await fetch(url);\r\n    if (!res.ok) return err('HTTP', `status ${res.status} for ${url}`);\r\n    const json = (await res.json()) as unknown as T;\r\n    return ok(json);\r\n  } catch (e: any) {\r\n    return err('HTTP', `failed to fetch ${url}: ${e?.message ?? String(e)}`);\r\n  }\r\n}\r\n\r\nexport async function getOrFetch<T>(key: string, loader: () => Promise<Result<T>>): Promise<Result<T>> {\r\n  if (tablesCache.has(key)) return tablesCache.get(key) as Result<T>;\r\n  const res = await loader();\r\n  tablesCache.set(key, res as Result<any>);\r\n  return res;\r\n}\r\n\r\n\r\n","import { OffenseChartsSchema, type OffenseCharts } from '../schemas/OffenseCharts';\r\nimport type { Result, Err } from './Result';\r\nimport { fetchJson, getOrFetch, ok, err } from './http';\r\n\r\nexport async function fetchOffenseCharts(): Promise<Result<OffenseCharts>> {\r\n  const key = 'data/football_strategy_all_mappings.json';\r\n  return getOrFetch(key, async () => {\r\n    const jsonRes = await fetchJson<unknown>(key);\r\n    if (!jsonRes.ok) return jsonRes as Err;\r\n    const parsed = OffenseChartsSchema.safeParse(jsonRes.data);\r\n    if (!parsed.success) return err('SCHEMA', parsed.error.message);\r\n    try {\r\n      return ok(parsed.data.OffenseCharts);\r\n    } catch (e: any) {\r\n      return err('TRANSFORM', e?.message ?? 'failed to extract OffenseCharts');\r\n    }\r\n  });\r\n}\r\n\r\n\r\n","import { z } from 'zod';\r\n\r\n// Normalized schema: { \"2\": { PAT: 'NG', '1-12': 'NG', ... }, ... }\r\nexport const PlaceKickRowSchema = z.record(z.string(), z.enum(['G','NG']));\r\nexport const PlaceKickTableNormalizedSchema = z.record(z.string().regex(/^\\d+$/), PlaceKickRowSchema);\r\n\r\n// Rich schema: matches data/place_kicking.json\r\nexport const PlaceKickRichSchema = z.object({\r\n  name: z.string(),\r\n  dice: z.string(),\r\n  columns: z.array(z.object({ range: z.string(), min: z.number().nullable().optional(), max: z.number().nullable().optional() })),\r\n  results: z.array(z.record(z.string(), z.union([z.string(), z.number(), z.null()]))),\r\n});\r\n\r\nexport const PlaceKickTableSchema = z.union([PlaceKickTableNormalizedSchema, PlaceKickRichSchema]);\r\n\r\nexport type PlaceKickTable = z.infer<typeof PlaceKickTableSchema>;\r\n\r\n\r\n","import { PlaceKickTableSchema, PlaceKickTableNormalizedSchema } from '../schemas/PlaceKicking';\r\n\r\nexport function toPlaceKickTable(json: any): ReturnType<typeof PlaceKickTableNormalizedSchema.parse> | undefined {\r\n\t// Accept already-normalized tables\r\n\tconst preParsed = PlaceKickTableSchema.safeParse(json);\r\n\tif (preParsed.success) {\r\n\t\tconst data: any = preParsed.data as any;\r\n\t\tif (data && typeof data === 'object' && !('results' in data)) {\r\n\t\t\tconst normalized = PlaceKickTableNormalizedSchema.safeParse(data);\r\n\t\t\tif (normalized.success) {\r\n\t\t\t\tconst keys = Object.keys(normalized.data || {});\r\n\t\t\t\tif (keys.length === 0) return undefined;\r\n\t\t\t\tconst hasPAT = keys.some((k) => typeof (normalized.data as any)[k]?.PAT === 'string');\r\n\t\t\t\tif (!hasPAT) return undefined;\r\n\t\t\t\treturn normalized.data;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Transform from rich schema shape\r\n\t\ttry {\r\n\t\t\tconst colKeys: string[] = Array.isArray((data as any)?.columns)\r\n\t\t\t\t? (data as any).columns.map((c: any) => c?.range).filter((k: any) => typeof k === 'string')\r\n\t\t\t\t: [];\r\n\t\t\tconst rows: any[] = Array.isArray((data as any)?.results) ? (data as any).results : [];\r\n\t\t\tif (colKeys.length === 0 || rows.length === 0) return undefined;\r\n\t\t\tconst table: Record<string, Record<string, 'G' | 'NG'>> = {};\r\n\t\t\tfor (const r of rows) {\r\n\t\t\t\tconst roll = String(r.roll);\r\n\t\t\t\tif (!/^(?:[1-9]|1[0-2])$/.test(roll)) continue;\r\n\t\t\t\tconst row: Record<string, 'G' | 'NG'> = {} as any;\r\n\t\t\t\tfor (const key of colKeys) {\r\n\t\t\t\t\tconst v = r[key];\r\n\t\t\t\t\tif (v === 'G' || v === 'NG') row[key] = v;\r\n\t\t\t\t}\r\n\t\t\t\ttable[roll] = row;\r\n\t\t\t}\r\n\t\t\tconst parsed = PlaceKickTableNormalizedSchema.safeParse(table);\r\n\t\t\tif (!parsed.success) return undefined;\r\n\t\t\tconst keys = Object.keys(parsed.data || {});\r\n\t\t\tif (keys.length === 0) return undefined;\r\n\t\t\tconst hasPAT = colKeys.includes('PAT') && keys.some((k) => typeof (parsed.data as any)[k]?.PAT === 'string');\r\n\t\t\tif (!hasPAT) return undefined;\r\n\t\t\treturn parsed.data;\r\n\t\t} catch {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t}\r\n\t// Attempt to transform from data/place_kicking.json shape\r\n\ttry {\r\n\t\tconst colKeys: string[] = Array.isArray(json?.columns)\r\n\t\t\t? json.columns.map((c: any) => c?.range).filter((k: any) => typeof k === 'string')\r\n\t\t\t: [];\r\n\t\tconst rows: any[] = Array.isArray(json?.results) ? json.results : [];\r\n\t\tif (colKeys.length === 0 || rows.length === 0) return undefined;\r\n\t\tconst table: Record<string, Record<string, 'G' | 'NG'>> = {};\r\n\t\tfor (const r of rows) {\r\n\t\t\tconst roll = String(r.roll);\r\n\t\t\tif (!/^(?:[1-9]|1[0-2])$/.test(roll)) continue;\r\n\t\t\tconst row: Record<string, 'G' | 'NG'> = {} as any;\r\n\t\t\tfor (const key of colKeys) {\r\n\t\t\t\tconst v = r[key];\r\n\t\t\t\tif (v === 'G' || v === 'NG') row[key] = v;\r\n\t\t\t}\r\n\t\t\ttable[roll] = row;\r\n\t\t}\r\n\t\tconst parsed = PlaceKickTableNormalizedSchema.safeParse(table);\r\n\t\tif (!parsed.success) return undefined;\r\n\t\tconst keys = Object.keys(parsed.data || {});\r\n\t\tif (keys.length === 0) return undefined;\r\n\t\tconst hasPAT = colKeys.includes('PAT') && keys.some((k) => typeof (parsed.data as any)[k]?.PAT === 'string');\r\n\t\tif (!hasPAT) return undefined;\r\n\t\treturn parsed.data;\r\n\t} catch {\r\n\t\treturn undefined;\r\n\t}\r\n}\r\n\r\n\r\n","import { PlaceKickTableSchema, type PlaceKickTable } from '../schemas/PlaceKicking';\r\nimport type { Result, Err } from './Result';\r\nimport { fetchJson, getOrFetch, ok, err } from './http';\r\nimport { toPlaceKickTable } from '../normalizers/placeKicking';\r\n\r\nexport async function fetchPlaceKicking(): Promise<Result<PlaceKickTable>> {\r\n  const key = 'data/place_kicking.json';\r\n  return getOrFetch(key, async () => {\r\n    const jsonRes = await fetchJson<unknown>(key);\r\n    if (!jsonRes.ok) return jsonRes as Err;\r\n    // Accept rich or normalized, transform to normalized if needed\r\n    const normalized = toPlaceKickTable(jsonRes.data);\r\n    if (!normalized) {\r\n      // Try to indicate if schema vs transform: first check union schema\r\n      const union = PlaceKickTableSchema.safeParse(jsonRes.data);\r\n      if (!union.success) return err('SCHEMA', union.error.message);\r\n      return err('TRANSFORM', 'failed to normalize place-kicking table');\r\n    }\r\n    return ok(normalized);\r\n  });\r\n}\r\n\r\n\r\n","import { z } from 'zod';\r\n\r\nexport const TimeKeepingFlatSchema = z.object({\r\n  gain0to20: z.number(),\r\n  gain20plus: z.number(),\r\n  loss: z.number(),\r\n  outOfBounds: z.number(),\r\n  incomplete: z.number(),\r\n  interception: z.number(),\r\n  penalty: z.number(),\r\n  fumble: z.number(),\r\n  kickoff: z.number(),\r\n  fieldgoal: z.number(),\r\n  punt: z.number(),\r\n  extraPoint: z.number(),\r\n});\r\n\r\n// Rich schema: matches data/time_keeping.json\r\nexport const TimeKeepingRichSchema = z.object({\r\n  name: z.string(),\r\n  units: z.string(),\r\n  rules: z.array(z.object({\r\n    event: z.string(),\r\n    duration: z.number().optional(),\r\n    adjustment: z.number().optional(),\r\n  })),\r\n});\r\n\r\nexport const TimeKeepingSchema = z.union([TimeKeepingFlatSchema, TimeKeepingRichSchema]);\r\n\r\nexport type TimeKeeping = z.infer<typeof TimeKeepingFlatSchema>;\r\n\r\n\r\n","import { TimeKeepingSchema, TimeKeepingFlatSchema, type TimeKeeping } from '../schemas/Timekeeping';\r\n\r\nexport function toTimeKeeping(json: any): TimeKeeping | undefined {\r\n\tconst preParsed = TimeKeepingSchema.safeParse(json);\r\n\tif (preParsed.success) {\r\n\t\tconst data: any = preParsed.data as any;\r\n\t\tif (data && typeof data === 'object' && !('rules' in data)) {\r\n\t\t\tconst flat = TimeKeepingFlatSchema.safeParse(data);\r\n\t\t\tif (flat.success) return flat.data;\r\n\t\t}\r\n\t\t// Transform from rich schema\r\n\t\ttry {\r\n\t\t\tconst rules: any[] = Array.isArray(data?.rules) ? data.rules : [];\r\n\t\t\tconst find = (event: string) => rules.find((r) => r?.event === event) || {};\r\n\t\t\tconst abs = (n: any) => (typeof n === 'number' ? Math.abs(n) : 0);\r\n\t\t\tconst required = ['gain_in_bounds_0_to_20','gain_in_bounds_20_plus','all_plays_for_loss','out_of_bounds','incomplete_pass','interception','penalty','fumble','kickoff_fg_punt_in_bounds','extra_point'];\r\n\t\t\tif (!required.some((ev) => !!(find(ev) as any).event)) return undefined;\r\n\t\t\tconst tk = {\r\n\t\t\t\tgain0to20: Number(find('gain_in_bounds_0_to_20').duration) || 30,\r\n\t\t\t\tgain20plus: Number(find('gain_in_bounds_20_plus').duration) || 45,\r\n\t\t\t\tloss: Number(find('all_plays_for_loss').duration) || 30,\r\n\t\t\t\toutOfBounds: abs(find('out_of_bounds').adjustment) || 15,\r\n\t\t\t\tincomplete: abs(find('incomplete_pass').adjustment) || 15,\r\n\t\t\t\tinterception: abs(find('interception').adjustment) || 30,\r\n\t\t\t\tpenalty: abs(find('penalty').adjustment) || 15,\r\n\t\t\t\tfumble: abs(find('fumble').adjustment) || 15,\r\n\t\t\t\tkickoff: abs(find('kickoff_fg_punt_in_bounds').adjustment) || 15,\r\n\t\t\t\tfieldgoal: abs(find('kickoff_fg_punt_in_bounds').adjustment) || 15,\r\n\t\t\t\tpunt: abs(find('kickoff_fg_punt_in_bounds').adjustment) || 15,\r\n\t\t\t\textraPoint: abs(find('extra_point').adjustment) || 0,\r\n\t\t\t};\r\n\t\t\tconst parsed = TimeKeepingFlatSchema.safeParse(tk);\r\n\t\t\treturn parsed.success ? parsed.data : undefined;\r\n\t\t} catch {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t}\r\n\ttry {\r\n\t\tconst rules: any[] = Array.isArray(json?.rules) ? json.rules : [];\r\n\t\tconst find = (event: string) => rules.find((r) => r?.event === event) || {};\r\n\t\tconst abs = (n: any) => (typeof n === 'number' ? Math.abs(n) : 0);\r\n\t\tif (!Array.isArray(json?.rules) || json.rules.length === 0) return undefined;\r\n\t\tconst tk = {\r\n\t\t\tgain0to20: Number(find('gain_in_bounds_0_to_20').duration) || 30,\r\n\t\t\tgain20plus: Number(find('gain_in_bounds_20_plus').duration) || 45,\r\n\t\t\tloss: Number(find('all_plays_for_loss').duration) || 30,\r\n\t\t\toutOfBounds: abs(find('out_of_bounds').adjustment) || 15,\r\n\t\t\tincomplete: abs(find('incomplete_pass').adjustment) || 15,\r\n\t\t\tinterception: abs(find('interception').adjustment) || 30,\r\n\t\t\tpenalty: abs(find('penalty').adjustment) || 15,\r\n\t\t\tfumble: abs(find('fumble').adjustment) || 15,\r\n\t\t\tkickoff: abs(find('kickoff_fg_punt_in_bounds').adjustment) || 15,\r\n\t\t\tfieldgoal: abs(find('kickoff_fg_punt_in_bounds').adjustment) || 15,\r\n\t\t\tpunt: abs(find('kickoff_fg_punt_in_bounds').adjustment) || 15,\r\n\t\t\textraPoint: abs(find('extra_point').adjustment) || 0,\r\n\t\t};\r\n\t\tconst parsed = TimeKeepingFlatSchema.safeParse(tk);\r\n\t\treturn parsed.success ? parsed.data : undefined;\r\n\t} catch {\r\n\t\treturn undefined;\r\n\t}\r\n}\r\n\r\n\r\n","import { TimeKeepingSchema, type TimeKeeping } from '../schemas/Timekeeping';\r\nimport type { Result, Err } from './Result';\r\nimport { fetchJson, getOrFetch, ok, err } from './http';\r\nimport { toTimeKeeping } from '../normalizers/timeKeeping';\r\n\r\nexport async function fetchTimeKeeping(): Promise<Result<TimeKeeping>> {\r\n  const key = 'data/time_keeping.json';\r\n  return getOrFetch(key, async () => {\r\n    const jsonRes = await fetchJson<unknown>(key);\r\n    if (!jsonRes.ok) return jsonRes as Err;\r\n    const tk = toTimeKeeping(jsonRes.data);\r\n    if (!tk) {\r\n      const union = TimeKeepingSchema.safeParse(jsonRes.data);\r\n      if (!union.success) return err('SCHEMA', union.error.message);\r\n      return err('TRANSFORM', 'failed to normalize timekeeping table');\r\n    }\r\n    return ok(tk);\r\n  });\r\n}\r\n\r\n\r\n","import { z } from 'zod';\r\n\r\nconst LongGainEntrySchema = z.object({\r\n  baseYards: z.number(),\r\n  extra: z\r\n    .object({\r\n      die: z.literal('1d6'),\r\n      multiplier: z.number(),\r\n    })\r\n    .optional(),\r\n});\r\n\r\nexport const LongGainSchema = z.object({\r\n  results: z.record(z.string().regex(/^[1-6]$/), LongGainEntrySchema),\r\n});\r\n\r\nexport type LongGainTable = z.infer<typeof LongGainSchema>['results'];\r\n\r\nexport function toLongGain(json: any): LongGainTable | undefined {\r\n  const parsed = LongGainSchema.safeParse(json);\r\n  if (parsed.success) return parsed.data.results;\r\n  return undefined;\r\n}\r\n\r\n\r\n","import type { Result, Err } from './Result';\r\nimport { fetchJson, getOrFetch, ok, err } from './http';\r\nimport { toLongGain, LongGainSchema, type LongGainTable } from '../normalizers/longGain';\r\n\r\nexport async function fetchLongGain(): Promise<Result<LongGainTable>> {\r\n  const key = 'data/long_gain.json';\r\n  return getOrFetch(key, async () => {\r\n    const jsonRes = await fetchJson<unknown>(key);\r\n    if (!jsonRes.ok) return jsonRes as Err;\r\n    const lg = toLongGain(jsonRes.data);\r\n    if (!lg) {\r\n      const parsed = LongGainSchema.safeParse(jsonRes.data);\r\n      if (!parsed.success) return err('SCHEMA', parsed.error.message);\r\n      return err('TRANSFORM', 'failed to extract long gain results');\r\n    }\r\n    return ok(lg);\r\n  });\r\n}\r\n\r\n\r\n","import type { OffenseCharts } from '../schemas/OffenseCharts';\r\nimport type { PlaceKickTable } from '../schemas/PlaceKicking';\r\nimport type { TimeKeeping } from '../schemas/Timekeeping';\r\nimport { fetchOffenseCharts } from './offenseCharts';\r\nimport { fetchPlaceKicking } from './placeKicking';\r\nimport { fetchTimeKeeping } from './timeKeeping';\r\nimport { fetchLongGain } from './longGain';\r\nimport type { LongGainTable } from '../normalizers/longGain';\r\n\r\n/** @deprecated prefer fetchOffenseCharts which returns Result */\r\nexport async function loadOffenseCharts(): Promise<OffenseCharts | undefined> {\r\n  const r = await fetchOffenseCharts();\r\n  return r.ok ? r.data : undefined;\r\n}\r\n\r\n/** @deprecated prefer fetchPlaceKicking which returns Result */\r\nexport async function loadPlaceKicking(): Promise<PlaceKickTable | undefined> {\r\n  const r = await fetchPlaceKicking();\r\n  return r.ok ? r.data : undefined;\r\n}\r\n\r\n/** @deprecated prefer fetchTimeKeeping which returns Result */\r\nexport async function loadTimeKeeping(): Promise<TimeKeeping | undefined> {\r\n  const r = await fetchTimeKeeping();\r\n  return r.ok ? r.data : undefined;\r\n}\r\n\r\n/** @deprecated prefer fetchLongGain which returns Result */\r\nexport async function loadLongGain(): Promise<LongGainTable | undefined> {\r\n  const r = await fetchLongGain();\r\n  return r.ok ? r.data : undefined;\r\n}\r\n\r\n// Deprecated helpers for older names retained in original file\r\n/** @deprecated use fetchOffenseCharts */\r\nexport async function loadOffenseChartsDeprecated(): Promise<OffenseCharts | undefined> {\r\n  const r = await fetchOffenseCharts();\r\n  return r.ok ? r.data : undefined;\r\n}\r\n/** @deprecated use fetchPlaceKicking */\r\nexport async function loadPlaceKickingDeprecated(): Promise<PlaceKickTable | undefined> {\r\n  const r = await fetchPlaceKicking();\r\n  return r.ok ? r.data : undefined;\r\n}\r\n/** @deprecated use fetchTimeKeeping */\r\nexport async function loadTimeKeepingDeprecated(): Promise<TimeKeeping | undefined> {\r\n  const r = await fetchTimeKeeping();\r\n  return r.ok ? r.data : undefined;\r\n}\r\n/** @deprecated use fetchLongGain */\r\nexport async function loadLongGainDeprecated(): Promise<LongGainTable | undefined> {\r\n  const r = await fetchLongGain();\r\n  return r.ok ? r.data : undefined;\r\n}\r\n\r\n\r\n"],"names":["DefenseLetterSchema","z.enum","PlayResultSchema","z.string","PlayLetterMapSchema","z.record","DeckPlaysSchema","OffenseChartsInnerSchema","z.object","OffenseChartsSchema","tablesCache","ok","data","err","code","message","clearTablesCache","fetchJson","url","res","json","e","getOrFetch","key","loader","fetchOffenseCharts","jsonRes","parsed","PlaceKickRowSchema","PlaceKickTableNormalizedSchema","PlaceKickRichSchema","z.array","z.number","z.union","z.null","PlaceKickTableSchema","toPlaceKickTable","preParsed","normalized","keys","k","colKeys","c","rows","table","r","roll","row","v","fetchPlaceKicking","union","TimeKeepingFlatSchema","TimeKeepingRichSchema","TimeKeepingSchema","toTimeKeeping","flat","rules","find","event","abs","n","ev","tk","fetchTimeKeeping","LongGainEntrySchema","z.literal","LongGainSchema","toLongGain","fetchLongGain","lg","loadOffenseCharts","loadPlaceKicking","loadTimeKeeping","loadLongGain","loadOffenseChartsDeprecated","loadPlaceKickingDeprecated","loadTimeKeepingDeprecated","loadLongGainDeprecated"],"mappings":"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"}