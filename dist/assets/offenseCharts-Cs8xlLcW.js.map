{"version":3,"file":"offenseCharts-Cs8xlLcW.js","sources":["../../src/data/schemas/OffenseCharts.ts","../../src/data/loaders/offenseCharts.ts"],"sourcesContent":["import { z } from 'zod';\r\n\r\nexport const DefenseLetterSchema = z.enum(['A','B','C','D','E','F','G','H','I','J']);\r\n\r\nexport const PlayResultSchema = z.string();\r\n\r\nexport const PlayLetterMapSchema = z.record(DefenseLetterSchema, PlayResultSchema);\r\n\r\nexport const DeckPlaysSchema = z.record(z.string(), PlayLetterMapSchema);\r\n\r\nexport const OffenseChartsInnerSchema = z.object({\r\n  ProStyle: DeckPlaysSchema,\r\n  BallControl: DeckPlaysSchema,\r\n  AerialStyle: DeckPlaysSchema,\r\n});\r\n\r\nexport const OffenseChartsSchema = z.object({ OffenseCharts: OffenseChartsInnerSchema });\r\n\r\nexport type OffenseCharts = z.infer<typeof OffenseChartsInnerSchema>;\r\n\r\n\r\n","import { OffenseChartsSchema, type OffenseCharts } from '../schemas/OffenseCharts';\r\nimport type { Result, Err } from './Result';\r\nimport { fetchJson, getOrFetch, ok, err } from './http';\r\n\r\nexport async function fetchOffenseCharts(): Promise<Result<OffenseCharts>> {\r\n  const key = 'data/football_strategy_all_mappings.json';\r\n  return getOrFetch(key, async () => {\r\n    const jsonRes = await fetchJson<unknown>(key);\r\n    if (!jsonRes.ok) return jsonRes as Err;\r\n    const parsed = OffenseChartsSchema.safeParse(jsonRes.data);\r\n    if (!parsed.success) return err('SCHEMA', parsed.error.message);\r\n    try {\r\n      return ok(parsed.data.OffenseCharts);\r\n    } catch (e: any) {\r\n      return err('TRANSFORM', e?.message ?? 'failed to extract OffenseCharts');\r\n    }\r\n  });\r\n}\r\n\r\n\r\n"],"names":["DefenseLetterSchema","z.enum","PlayResultSchema","z.string","PlayLetterMapSchema","z.record","DeckPlaysSchema","OffenseChartsInnerSchema","z.object","OffenseChartsSchema","fetchOffenseCharts","key","getOrFetch","jsonRes","fetchJson","parsed","err","ok","e"],"mappings":"mFAEO,MAAMA,EAAsBC,EAAO,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,CAAC,EAEtEC,EAAmBC,EAAE,EAErBC,EAAsBC,EAASL,EAAqBE,CAAgB,EAEpEI,EAAkBD,EAASF,EAAE,EAAUC,CAAmB,EAE1DG,EAA2BC,EAAS,CAC/C,SAAUF,EACV,YAAaA,EACb,YAAaA,CACf,CAAC,EAEYG,EAAsBD,EAAS,CAAE,cAAeD,EAA0B,ECZvF,eAAsBG,GAAqD,CACzE,MAAMC,EAAM,2CACZ,OAAOC,EAAWD,EAAK,SAAY,CACjC,MAAME,EAAU,MAAMC,EAAmBH,CAAG,EAC5C,GAAI,CAACE,EAAQ,GAAI,OAAOA,EACxB,MAAME,EAASN,EAAoB,UAAUI,EAAQ,IAAI,EACzD,GAAI,CAACE,EAAO,QAAS,OAAOC,EAAI,SAAUD,EAAO,MAAM,OAAO,EAC9D,GAAI,CACF,OAAOE,EAAGF,EAAO,KAAK,aAAa,CACrC,OAASG,EAAQ,CACf,OAAOF,EAAI,YAAaE,GAAG,SAAW,iCAAiC,CACzE,CACF,CAAC,CACH"}