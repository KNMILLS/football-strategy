{"version":3,"file":"tables-CJNVkz7O.js","sources":["../../src/data/schemas/PlaceKicking.ts","../../src/data/normalizers/placeKicking.ts","../../src/data/loaders/placeKicking.ts","../../src/data/schemas/Timekeeping.ts","../../src/data/normalizers/timeKeeping.ts","../../src/data/loaders/timeKeeping.ts","../../src/data/normalizers/longGain.ts","../../src/data/loaders/longGain.ts","../../src/data/loaders/compat.ts"],"sourcesContent":["import { z } from 'zod';\r\n\r\n// Normalized schema: { \"2\": { PAT: 'NG', '1-12': 'NG', ... }, ... }\r\nexport const PlaceKickRowSchema = z.record(z.string(), z.enum(['G','NG']));\r\nexport const PlaceKickTableNormalizedSchema = z.record(z.string().regex(/^\\d+$/), PlaceKickRowSchema);\r\n\r\n// Rich schema: matches data/place_kicking.json\r\nexport const PlaceKickRichSchema = z.object({\r\n  name: z.string(),\r\n  dice: z.string(),\r\n  columns: z.array(z.object({ range: z.string(), min: z.number().nullable().optional(), max: z.number().nullable().optional() })),\r\n  results: z.array(z.record(z.string(), z.union([z.string(), z.number(), z.null()]))),\r\n});\r\n\r\nexport const PlaceKickTableSchema = z.union([PlaceKickTableNormalizedSchema, PlaceKickRichSchema]);\r\n\r\nexport type PlaceKickTable = z.infer<typeof PlaceKickTableSchema>;\r\n\r\n\r\n","import { PlaceKickTableSchema, PlaceKickTableNormalizedSchema } from '../schemas/PlaceKicking';\r\n\r\nexport function toPlaceKickTable(json: any): ReturnType<typeof PlaceKickTableNormalizedSchema.parse> | undefined {\r\n\t// Accept already-normalized tables\r\n\tconst preParsed = PlaceKickTableSchema.safeParse(json);\r\n\tif (preParsed.success) {\r\n\t\tconst data: any = preParsed.data as any;\r\n\t\tif (data && typeof data === 'object' && !('results' in data)) {\r\n\t\t\tconst normalized = PlaceKickTableNormalizedSchema.safeParse(data);\r\n\t\t\tif (normalized.success) {\r\n\t\t\t\tconst keys = Object.keys(normalized.data || {});\r\n\t\t\t\tif (keys.length === 0) return undefined;\r\n\t\t\t\tconst hasPAT = keys.some((k) => typeof (normalized.data as any)[k]?.PAT === 'string');\r\n\t\t\t\tif (!hasPAT) return undefined;\r\n\t\t\t\treturn normalized.data;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Transform from rich schema shape\r\n\t\ttry {\r\n\t\t\tconst colKeys: string[] = Array.isArray((data as any)?.columns)\r\n\t\t\t\t? (data as any).columns.map((c: any) => c?.range).filter((k: any) => typeof k === 'string')\r\n\t\t\t\t: [];\r\n\t\t\tconst rows: any[] = Array.isArray((data as any)?.results) ? (data as any).results : [];\r\n\t\t\tif (colKeys.length === 0 || rows.length === 0) return undefined;\r\n\t\t\tconst table: Record<string, Record<string, 'G' | 'NG'>> = {};\r\n\t\t\tfor (const r of rows) {\r\n\t\t\t\tconst roll = String(r.roll);\r\n\t\t\t\tif (!/^(?:[1-9]|1[0-2])$/.test(roll)) continue;\r\n\t\t\t\tconst row: Record<string, 'G' | 'NG'> = {} as any;\r\n\t\t\t\tfor (const key of colKeys) {\r\n\t\t\t\t\tconst v = r[key];\r\n\t\t\t\t\tif (v === 'G' || v === 'NG') row[key] = v;\r\n\t\t\t\t}\r\n\t\t\t\ttable[roll] = row;\r\n\t\t\t}\r\n\t\t\tconst parsed = PlaceKickTableNormalizedSchema.safeParse(table);\r\n\t\t\tif (!parsed.success) return undefined;\r\n\t\t\tconst keys = Object.keys(parsed.data || {});\r\n\t\t\tif (keys.length === 0) return undefined;\r\n\t\t\tconst hasPAT = colKeys.includes('PAT') && keys.some((k) => typeof (parsed.data as any)[k]?.PAT === 'string');\r\n\t\t\tif (!hasPAT) return undefined;\r\n\t\t\treturn parsed.data;\r\n\t\t} catch {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t}\r\n\t// Attempt to transform from data/place_kicking.json shape\r\n\ttry {\r\n\t\tconst colKeys: string[] = Array.isArray(json?.columns)\r\n\t\t\t? json.columns.map((c: any) => c?.range).filter((k: any) => typeof k === 'string')\r\n\t\t\t: [];\r\n\t\tconst rows: any[] = Array.isArray(json?.results) ? json.results : [];\r\n\t\tif (colKeys.length === 0 || rows.length === 0) return undefined;\r\n\t\tconst table: Record<string, Record<string, 'G' | 'NG'>> = {};\r\n\t\tfor (const r of rows) {\r\n\t\t\tconst roll = String(r.roll);\r\n\t\t\tif (!/^(?:[1-9]|1[0-2])$/.test(roll)) continue;\r\n\t\t\tconst row: Record<string, 'G' | 'NG'> = {} as any;\r\n\t\t\tfor (const key of colKeys) {\r\n\t\t\t\tconst v = r[key];\r\n\t\t\t\tif (v === 'G' || v === 'NG') row[key] = v;\r\n\t\t\t}\r\n\t\t\ttable[roll] = row;\r\n\t\t}\r\n\t\tconst parsed = PlaceKickTableNormalizedSchema.safeParse(table);\r\n\t\tif (!parsed.success) return undefined;\r\n\t\tconst keys = Object.keys(parsed.data || {});\r\n\t\tif (keys.length === 0) return undefined;\r\n\t\tconst hasPAT = colKeys.includes('PAT') && keys.some((k) => typeof (parsed.data as any)[k]?.PAT === 'string');\r\n\t\tif (!hasPAT) return undefined;\r\n\t\treturn parsed.data;\r\n\t} catch {\r\n\t\treturn undefined;\r\n\t}\r\n}\r\n\r\n\r\n","import { PlaceKickTableSchema, type PlaceKickTable } from '../schemas/PlaceKicking';\r\nimport type { Result, Err } from './Result';\r\nimport { fetchJson, getOrFetch, ok, err } from './http';\r\nimport { toPlaceKickTable } from '../normalizers/placeKicking';\r\n\r\nexport async function fetchPlaceKicking(): Promise<Result<PlaceKickTable>> {\r\n  const key = 'data/place_kicking.json';\r\n  return getOrFetch(key, async () => {\r\n    const jsonRes = await fetchJson<unknown>(key);\r\n    if (!jsonRes.ok) return jsonRes as Err;\r\n    // Accept rich or normalized, transform to normalized if needed\r\n    const normalized = toPlaceKickTable(jsonRes.data);\r\n    if (!normalized) {\r\n      // Try to indicate if schema vs transform: first check union schema\r\n      const union = PlaceKickTableSchema.safeParse(jsonRes.data);\r\n      if (!union.success) return err('SCHEMA', union.error.message);\r\n      return err('TRANSFORM', 'failed to normalize place-kicking table');\r\n    }\r\n    return ok(normalized);\r\n  });\r\n}\r\n\r\n\r\n","import { z } from 'zod';\r\n\r\nexport const TimeKeepingFlatSchema = z.object({\r\n  gain0to20: z.number(),\r\n  gain20plus: z.number(),\r\n  loss: z.number(),\r\n  outOfBounds: z.number(),\r\n  incomplete: z.number(),\r\n  interception: z.number(),\r\n  penalty: z.number(),\r\n  fumble: z.number(),\r\n  kickoff: z.number(),\r\n  fieldgoal: z.number(),\r\n  punt: z.number(),\r\n  extraPoint: z.number(),\r\n});\r\n\r\n// Rich schema: matches data/time_keeping.json\r\nexport const TimeKeepingRichSchema = z.object({\r\n  name: z.string(),\r\n  units: z.string(),\r\n  rules: z.array(z.object({\r\n    event: z.string(),\r\n    duration: z.number().optional(),\r\n    adjustment: z.number().optional(),\r\n  })),\r\n});\r\n\r\nexport const TimeKeepingSchema = z.union([TimeKeepingFlatSchema, TimeKeepingRichSchema]);\r\n\r\nexport type TimeKeeping = z.infer<typeof TimeKeepingFlatSchema>;\r\n\r\n\r\n","import { TimeKeepingSchema, TimeKeepingFlatSchema, type TimeKeeping } from '../schemas/Timekeeping';\r\n\r\nexport function toTimeKeeping(json: any): TimeKeeping | undefined {\r\n\tconst preParsed = TimeKeepingSchema.safeParse(json);\r\n\tif (preParsed.success) {\r\n\t\tconst data: any = preParsed.data as any;\r\n\t\tif (data && typeof data === 'object' && !('rules' in data)) {\r\n\t\t\tconst flat = TimeKeepingFlatSchema.safeParse(data);\r\n\t\t\tif (flat.success) return flat.data;\r\n\t\t}\r\n\t\t// Transform from rich schema\r\n\t\ttry {\r\n\t\t\tconst rules: any[] = Array.isArray(data?.rules) ? data.rules : [];\r\n\t\t\tconst find = (event: string) => rules.find((r) => r?.event === event) || {};\r\n\t\t\tconst abs = (n: any) => (typeof n === 'number' ? Math.abs(n) : 0);\r\n\t\t\tconst required = ['gain_in_bounds_0_to_20','gain_in_bounds_20_plus','all_plays_for_loss','out_of_bounds','incomplete_pass','interception','penalty','fumble','kickoff_fg_punt_in_bounds','extra_point'];\r\n\t\t\tif (!required.some((ev) => !!(find(ev) as any).event)) return undefined;\r\n\t\t\tconst tk = {\r\n\t\t\t\tgain0to20: Number(find('gain_in_bounds_0_to_20').duration) || 30,\r\n\t\t\t\tgain20plus: Number(find('gain_in_bounds_20_plus').duration) || 45,\r\n\t\t\t\tloss: Number(find('all_plays_for_loss').duration) || 30,\r\n\t\t\t\toutOfBounds: abs(find('out_of_bounds').adjustment) || 15,\r\n\t\t\t\tincomplete: abs(find('incomplete_pass').adjustment) || 15,\r\n\t\t\t\tinterception: abs(find('interception').adjustment) || 30,\r\n\t\t\t\tpenalty: abs(find('penalty').adjustment) || 15,\r\n\t\t\t\tfumble: abs(find('fumble').adjustment) || 15,\r\n\t\t\t\tkickoff: abs(find('kickoff_fg_punt_in_bounds').adjustment) || 15,\r\n\t\t\t\tfieldgoal: abs(find('kickoff_fg_punt_in_bounds').adjustment) || 15,\r\n\t\t\t\tpunt: abs(find('kickoff_fg_punt_in_bounds').adjustment) || 15,\r\n\t\t\t\textraPoint: abs(find('extra_point').adjustment) || 0,\r\n\t\t\t};\r\n\t\t\tconst parsed = TimeKeepingFlatSchema.safeParse(tk);\r\n\t\t\treturn parsed.success ? parsed.data : undefined;\r\n\t\t} catch {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t}\r\n\ttry {\r\n\t\tconst rules: any[] = Array.isArray(json?.rules) ? json.rules : [];\r\n\t\tconst find = (event: string) => rules.find((r) => r?.event === event) || {};\r\n\t\tconst abs = (n: any) => (typeof n === 'number' ? Math.abs(n) : 0);\r\n\t\tif (!Array.isArray(json?.rules) || json.rules.length === 0) return undefined;\r\n\t\tconst tk = {\r\n\t\t\tgain0to20: Number(find('gain_in_bounds_0_to_20').duration) || 30,\r\n\t\t\tgain20plus: Number(find('gain_in_bounds_20_plus').duration) || 45,\r\n\t\t\tloss: Number(find('all_plays_for_loss').duration) || 30,\r\n\t\t\toutOfBounds: abs(find('out_of_bounds').adjustment) || 15,\r\n\t\t\tincomplete: abs(find('incomplete_pass').adjustment) || 15,\r\n\t\t\tinterception: abs(find('interception').adjustment) || 30,\r\n\t\t\tpenalty: abs(find('penalty').adjustment) || 15,\r\n\t\t\tfumble: abs(find('fumble').adjustment) || 15,\r\n\t\t\tkickoff: abs(find('kickoff_fg_punt_in_bounds').adjustment) || 15,\r\n\t\t\tfieldgoal: abs(find('kickoff_fg_punt_in_bounds').adjustment) || 15,\r\n\t\t\tpunt: abs(find('kickoff_fg_punt_in_bounds').adjustment) || 15,\r\n\t\t\textraPoint: abs(find('extra_point').adjustment) || 0,\r\n\t\t};\r\n\t\tconst parsed = TimeKeepingFlatSchema.safeParse(tk);\r\n\t\treturn parsed.success ? parsed.data : undefined;\r\n\t} catch {\r\n\t\treturn undefined;\r\n\t}\r\n}\r\n\r\n\r\n","import { TimeKeepingSchema, type TimeKeeping } from '../schemas/Timekeeping';\r\nimport type { Result, Err } from './Result';\r\nimport { fetchJson, getOrFetch, ok, err } from './http';\r\nimport { toTimeKeeping } from '../normalizers/timeKeeping';\r\n\r\nexport async function fetchTimeKeeping(): Promise<Result<TimeKeeping>> {\r\n  const key = 'data/time_keeping.json';\r\n  return getOrFetch(key, async () => {\r\n    const jsonRes = await fetchJson<unknown>(key);\r\n    if (!jsonRes.ok) return jsonRes as Err;\r\n    const tk = toTimeKeeping(jsonRes.data);\r\n    if (!tk) {\r\n      const union = TimeKeepingSchema.safeParse(jsonRes.data);\r\n      if (!union.success) return err('SCHEMA', union.error.message);\r\n      return err('TRANSFORM', 'failed to normalize timekeeping table');\r\n    }\r\n    return ok(tk);\r\n  });\r\n}\r\n\r\n\r\n","import { z } from 'zod';\r\n\r\nconst LongGainEntrySchema = z.object({\r\n  baseYards: z.number(),\r\n  extra: z\r\n    .object({\r\n      die: z.literal('1d6'),\r\n      multiplier: z.number(),\r\n    })\r\n    .optional(),\r\n});\r\n\r\nexport const LongGainSchema = z.object({\r\n  results: z.record(z.string().regex(/^[1-6]$/), LongGainEntrySchema),\r\n});\r\n\r\nexport type LongGainTable = z.infer<typeof LongGainSchema>['results'];\r\n\r\nexport function toLongGain(json: any): LongGainTable | undefined {\r\n  const parsed = LongGainSchema.safeParse(json);\r\n  if (parsed.success) return parsed.data.results;\r\n  return undefined;\r\n}\r\n\r\n\r\n","import type { Result, Err } from './Result';\r\nimport { fetchJson, getOrFetch, ok, err } from './http';\r\nimport { toLongGain, LongGainSchema, type LongGainTable } from '../normalizers/longGain';\r\n\r\nexport async function fetchLongGain(): Promise<Result<LongGainTable>> {\r\n  const key = 'data/long_gain.json';\r\n  return getOrFetch(key, async () => {\r\n    const jsonRes = await fetchJson<unknown>(key);\r\n    if (!jsonRes.ok) return jsonRes as Err;\r\n    const lg = toLongGain(jsonRes.data);\r\n    if (!lg) {\r\n      const parsed = LongGainSchema.safeParse(jsonRes.data);\r\n      if (!parsed.success) return err('SCHEMA', parsed.error.message);\r\n      return err('TRANSFORM', 'failed to extract long gain results');\r\n    }\r\n    return ok(lg);\r\n  });\r\n}\r\n\r\n\r\n","import type { OffenseCharts } from '../schemas/OffenseCharts';\r\nimport type { PlaceKickTable } from '../schemas/PlaceKicking';\r\nimport type { TimeKeeping } from '../schemas/Timekeeping';\r\nimport { fetchOffenseCharts } from './offenseCharts';\r\nimport { fetchPlaceKicking } from './placeKicking';\r\nimport { fetchTimeKeeping } from './timeKeeping';\r\nimport { fetchLongGain } from './longGain';\r\nimport type { LongGainTable } from '../normalizers/longGain';\r\n\r\n/** @deprecated prefer fetchOffenseCharts which returns Result */\r\nexport async function loadOffenseCharts(): Promise<OffenseCharts | undefined> {\r\n  const r = await fetchOffenseCharts();\r\n  return r.ok ? r.data : undefined;\r\n}\r\n\r\n/** @deprecated prefer fetchPlaceKicking which returns Result */\r\nexport async function loadPlaceKicking(): Promise<PlaceKickTable | undefined> {\r\n  const r = await fetchPlaceKicking();\r\n  return r.ok ? r.data : undefined;\r\n}\r\n\r\n/** @deprecated prefer fetchTimeKeeping which returns Result */\r\nexport async function loadTimeKeeping(): Promise<TimeKeeping | undefined> {\r\n  const r = await fetchTimeKeeping();\r\n  return r.ok ? r.data : undefined;\r\n}\r\n\r\n/** @deprecated prefer fetchLongGain which returns Result */\r\nexport async function loadLongGain(): Promise<LongGainTable | undefined> {\r\n  const r = await fetchLongGain();\r\n  return r.ok ? r.data : undefined;\r\n}\r\n\r\n// Deprecated helpers for older names retained in original file\r\n/** @deprecated use fetchOffenseCharts */\r\nexport async function loadOffenseChartsDeprecated(): Promise<OffenseCharts | undefined> {\r\n  const r = await fetchOffenseCharts();\r\n  return r.ok ? r.data : undefined;\r\n}\r\n/** @deprecated use fetchPlaceKicking */\r\nexport async function loadPlaceKickingDeprecated(): Promise<PlaceKickTable | undefined> {\r\n  const r = await fetchPlaceKicking();\r\n  return r.ok ? r.data : undefined;\r\n}\r\n/** @deprecated use fetchTimeKeeping */\r\nexport async function loadTimeKeepingDeprecated(): Promise<TimeKeeping | undefined> {\r\n  const r = await fetchTimeKeeping();\r\n  return r.ok ? r.data : undefined;\r\n}\r\n/** @deprecated use fetchLongGain */\r\nexport async function loadLongGainDeprecated(): Promise<LongGainTable | undefined> {\r\n  const r = await fetchLongGain();\r\n  return r.ok ? r.data : undefined;\r\n}\r\n\r\n\r\n"],"names":["PlaceKickRowSchema","z.record","z.string","z.enum","PlaceKickTableNormalizedSchema","PlaceKickRichSchema","z.object","z.array","z.number","z.union","z.null","PlaceKickTableSchema","toPlaceKickTable","json","preParsed","data","normalized","keys","k","colKeys","c","rows","table","r","roll","row","key","v","parsed","fetchPlaceKicking","getOrFetch","jsonRes","fetchJson","union","err","ok","TimeKeepingFlatSchema","TimeKeepingRichSchema","TimeKeepingSchema","toTimeKeeping","flat","rules","find","event","abs","n","ev","tk","fetchTimeKeeping","LongGainEntrySchema","z.literal","LongGainSchema","toLongGain","fetchLongGain","lg","loadOffenseCharts","fetchOffenseCharts","loadPlaceKicking","loadTimeKeeping","loadLongGain","loadOffenseChartsDeprecated","loadPlaceKickingDeprecated","loadTimeKeepingDeprecated","loadLongGainDeprecated"],"mappings":"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"}